å¥½ã€‚å…ˆæŠŠâ€œ**å®éªŒä»»åŠ¡è¡¨**â€ä¸€æ¬¡æ€§ç»™å…¨ï¼ŒæŒ‰ä½ å®šçš„äº”ç»„å®éªŒï¼ˆKã€Qã€Kâ†’Qã€Pã€æ¶ˆèï¼‰æ‹†æˆå¯ç›´æ¥æ‰§è¡Œçš„ä»»åŠ¡æ¸…å•ã€‚æ‰€æœ‰å£å¾„å·²ç»Ÿä¸€ï¼š**512Ã—512ã€BS=1ã€pair-graph K=4ã€seed=42**ã€‚æ—¥å¿—å­—æ®µå›ºå®šï¼ˆè´¨é‡/æ•ˆç‡/èµ„æº/æˆæœ¬ï¼‰ã€‚

# DUSt3R è½»é‡åŒ–â€”å®éªŒä»»åŠ¡è¡¨ï¼ˆV1ï¼‰

## 0) æ€»é˜¶æ®µä¸é‡Œç¨‹ç¢‘

| é˜¶æ®µID | æ¨¡å—       | ç›®æ ‡                    | äº§å‡º                                         | é¢„è®¡GPUæ—¶é•¿ | ä¾èµ–    |
| ---- | -------- | --------------------- | ------------------------------------------ | ------- | ----- |
| P0   | Baseline | è·‘é€šTeacherä¸è¯„æµ‹å£å¾„        | `teacher_eval.json`                        | 4â€“6h    | â€”     |
| P1   | K-only   | è®­ç¨³å­¦ç”ŸFP32ï¼ˆè·Œå¹…â‰¤1%ï¼‰       | `student_fp32_best.pth`ã€`distill_log.json` | 32â€“48h  | P0    |
| P2   | Q-only   | INT8å¼•æ“ï¼ˆkeep-listï¼‰     | `quantized_model.trt`ã€`quant_eval.json`    | 12â€“20h  | P0    |
| P3   | Kâ†’Q      | å·¥ç¨‹ä¸»çº¿è”åˆï¼ˆç²¾åº¦â‰¤1%ï¼Œæ—¶å»¶â†“â‰¥50%ï¼‰ | `student_int8.trt`ã€`kq_eval.json`          | 12â€“20h  | P1    |
| P4   | P-only   | ç»“æ„åŒ–å‰ªæä¸¤æ¡£ï¼ˆÏ=0.1/0.3ï¼‰    | `pruned_*.pth`ã€`prune_eval.json`           | 20â€“30h  | P0    |
| P5   | æ¶ˆè       | 2â€“3ç»„å…³é”®æ¶ˆè              | `ablation_*.json`                          | 6â€“12h   | P1/P2 |

> ç»Ÿä¸€æ—¥å¿—å­—æ®µï¼š`exp_id, combo, rho, T, beta, gamma, bits_w, bits_a, keep_list, params_M, flops_G, size_MB, vram_GB, chamfer, absrel, rmse, delta1, t_pair_p50_ms, t_pair_p95_ms, t_scene_s, pairs_per_sec, gpu_hours, notes, seed, datetime`

---

## 1) P0 Baselineï¼ˆå¿…é¡»å…ˆåšï¼‰

| ä»»åŠ¡ID | æ­¥éª¤        | æ“ä½œè¦ç‚¹                   | äº§å‡º                  | åˆ¤å®š/æ­¢æŸ       | é¢„è®¡GPU |
| ---- | --------- | ---------------------- | ------------------- | ----------- | ----- |
| P0-1 | æ•°æ®/å£å¾„å›ºå®š   | é‡‡æ ·20å¯¹å›¾ï¼›å›ºå®šK=4é…å¯¹ï¼›seed=42 | `workload.yaml`     | è§„èŒƒå®Œæˆ        | 0h    |
| P0-2 | Teacherè¯„æµ‹ | è·‘è´¨é‡/æ•ˆç‡/èµ„æºä¸‰ç±»æŒ‡æ ‡          | `teacher_eval.json` | æŒ‡æ ‡æ— NaNï¼›æ—¥å¿—å®Œæ•´ | 4â€“6h  |

---

## 2) P1 K-onlyï¼ˆè½»é‡è’¸é¦ï¼‰

**é…ç½®**ï¼šStudenté™æ·±åº¦/heads/FFNå„â‰ˆ30%ï¼›æŸå¤± (L=Î±L_{task}+Î²,KL+Î³|F_T!-!F_S|^2)

| ä»»åŠ¡ID | æ­¥éª¤        | å…³é”®å‚æ•°                          | äº§å‡º                       | åˆ¤å®š/æ­¢æŸ        | é¢„è®¡GPU |
| ---- | --------- | ----------------------------- | ------------------------ | ------------ | ----- |
| K-1  | å¯åŠ¨ç½‘æ ¼1     | T=3, Î²=0.5, Î³=0, 30epoch, æ—©åœ3 | `student_fp32_t3b05.pth` | ä¸»æŒ‡æ ‡è·Œå¹…â‰¤1%ï¼›å¦åˆ™åœ | 8â€“12h |
| K-2  | ç½‘æ ¼2       | T=5, Î²=0.5, Î³=0               | `student_fp32_t5b05.pth` | åŒä¸Š           | 8â€“12h |
| K-3  | ç½‘æ ¼3ï¼ˆåæœŸæÎ²ï¼‰ | å‰70%Î²=0.5â†’å30%Î²=0.7           | `student_fp32_sched.pth` | æ›²çº¿ç¨³å®š         | 8â€“12h |
| K-4  | å¤è¯„        | ä¸‰æ¨¡å‹ç»Ÿä¸€è¯„æµ‹å£å¾„                     | `distill_log.json`       | é€‰best        | 2â€“4h  |

---

## 3) P2 Q-onlyï¼ˆé‡åŒ–ï¼ŒPTQâ†’QATï¼‰

**ç­–ç•¥**ï¼šW8A8ï¼›æƒé‡per-channelã€æ¿€æ´»per-tensorï¼›**keep-list**ï¼šSoftmax/Attn-scale/LayerNorm ä¿FP16ï¼›æ ¡å‡†â‰¥512å¼ 

| ä»»åŠ¡ID | æ­¥éª¤    | å…³é”®å‚æ•°                | äº§å‡º                    | åˆ¤å®š/æ­¢æŸ           | é¢„è®¡GPU |
| ---- | ----- | ------------------- | --------------------- | --------------- | ----- |
| Q-1  | PTQæ ¡å‡† | calib=512           | `ptq_int8.onnx`       | æ‰ç‚¹>1%â†’QAT       | 2â€“3h  |
| Q-2  | QATè®­ç»ƒ | 10â€“15epochï¼›åâ…“æ‰“å¼€é‡åŒ–æ„ŸçŸ¥ | `quant_ckpt.pth`      | æ‰ç‚¹â‰¤1%           | 6â€“10h |
| Q-3  | TRTå¯¼å‡º | é™æ€shape 1Ã—3Ã—512Ã—512 | `quantized_model.trt` | å¯æ¨ç†             | 2â€“3h  |
| Q-4  | è¯„æµ‹    | ç»Ÿä¸€å£å¾„                | `quant_eval.json`     | t_pair p50â†“â‰¥50% | 2â€“4h  |

---

## 4) P3 Kâ†’Qï¼ˆä¸»çº¿è”åˆï¼‰

| ä»»åŠ¡ID | æ­¥éª¤      | å…³é”®å‚æ•°             | äº§å‡º                 | åˆ¤å®š/æ­¢æŸ         | é¢„è®¡GPU |
| ---- | ------- | ---------------- | ------------------ | ------------- | ----- |
| KQ-1 | é€‰bestå­¦ç”Ÿ | æ¥è‡ªP1ï¼ˆK-1~K-3ï¼‰    | â€”                  | ç²¾åº¦æœ€ä¼˜          | â€”     |
| KQ-2 | QAT     | å¤ç”¨P2ç­–ç•¥ä¸keep-list | `student_int8.trt` | æ‰ç‚¹â‰¤1%ï¼›æ—¶å»¶â†“â‰¥50% | 8â€“12h |
| KQ-3 | è¯„æµ‹      | ç»Ÿä¸€å£å¾„             | `kq_eval.json`     | é€šè¿‡é˜ˆå€¼          | 2â€“4h  |

---

## 5) P4 P-onlyï¼ˆç»“æ„åŒ–å‰ªæï¼‰

**ç­–ç•¥**ï¼šé€šé“/Head/FFNç»´åº¦ç»“æ„åŒ–å‰ªï¼›L1é‡è¦åº¦+ä¾èµ–å›¾/æ•æ„Ÿåº¦ï¼›ä¸¤æ¡£å³å¯

| ä»»åŠ¡ID | æ­¥éª¤      | æ¡£ä½           | äº§å‡º                | åˆ¤å®š/æ­¢æŸ    | é¢„è®¡GPU  |
| ---- | ------- | ------------ | ----------------- | -------- | ------ |
| P-1  | å‰ªæÏ=0.1 | å¾®è°ƒ10â€“15epoch | `pruned_r010.pth` | è·Œå¹…â‰¤3%    | 8â€“12h  |
| P-2  | å‰ªæÏ=0.3 | å¾®è°ƒ10â€“15epoch | `pruned_r030.pth` | è·Œå¹…â‰¤3%å¦åˆ™åœ | 10â€“14h |
| P-3  | è¯„æµ‹      | ç»Ÿä¸€å£å¾„         | `prune_eval.json` | ä½“ç§¯â†“â‰¥25%  | 2â€“4h   |

---

## 6) P5 æ¶ˆèï¼ˆè‡³å°‘2â€“3ç»„ï¼‰

| ä»»åŠ¡ID  | ä¸»é¢˜        | è®¾ç½®                    | äº§å‡º                    | ç›®çš„      | é¢„è®¡GPU |
| ----- | --------- | --------------------- | --------------------- | ------- | ----- |
| ABL-1 | keep-list | å»æ‰LN / å»æ‰Softmaxï¼ˆåˆ†åˆ«æµ‹ï¼‰ | `ablation_keep.json`  | é‡åŒ–ç¨³å®šæ€§è¯æ® | 2â€“3h  |
| ABL-2 | æ ¡å‡†è§„æ¨¡      | calib=128/256/512 å¯¹æ¯”  | `ablation_calib.json` | æ ¡å‡†æ•æ„Ÿæ€§   | 2â€“3h  |
| ABL-3 | è’¸é¦æŸå¤±      | ä»…KL vs KL+FD(Î³=0.1)   | `ablation_loss.json`  | Kçš„è´¡çŒ®    | 2â€“4h  |

---

## 7) ç»Ÿä¸€å‘½å & äº¤ä»˜æ¸…å•

* **exp_id**ï¼š`{stage}_{combo}_{keyparams}_{run}`
  ä¾‹ï¼š`K_T3B05_sched_run1`ã€`Q_QAT_keepLN_run1`ã€`KQ_INT8_run1`ã€`P_r010_run1`
* **äº§å‡ºæ–‡ä»¶**ï¼š
  `*.pth / *.onnx / *.trt / *_eval.json / *_log.json / result_table.csv`
* **æˆåŠŸçº¿ï¼ˆç¡¬æ€§ï¼‰**ï¼š

  * Kï¼šä¸»è´¨é‡è·Œå¹… â‰¤ **1%**
  * Q/Kâ†’Qï¼šè·Œå¹… â‰¤ **1%**ï¼Œ**t_pair p50** ç›¸å¯¹å­¦ç”ŸFP32 **â†“ â‰¥50%**
  * Pï¼šSize/Params **â†“ â‰¥25%**ï¼Œè·Œå¹… â‰¤ **3%**

---

## 8) ä¾èµ–ä¸ä¼˜å…ˆçº§ï¼ˆè·‘é¡ºåºï¼‰

1. **P0 â†’ P1 â†’ P3**ï¼ˆä¸»çº¿ï¼‰
2. å¹¶è¡Œ **P2**ï¼ˆQ-onlyï¼Œç”¨äºå¯¹ç…§ï¼‰
3. å……è£•æ—¶åš **P4ï¼ˆP-onlyï¼‰** ä¸ **P5ï¼ˆæ¶ˆèï¼‰**

---

## 9) æ¯æ—¥æ‰§è¡Œå•æ¨¡æ¿ï¼ˆè´´åˆ°ä½ çš„è®°å½•è¡¨å³å¯ï¼‰

| æ—¥æœŸ    | ä»»åŠ¡ID | è¾“å…¥/é…ç½®                     | äº§å‡º                       | åˆ¤å®š | GPUh | å¤‡æ³¨   |
| ----- | ---- | ------------------------- | ------------------------ | -- | ---- | ---- |
| 10/08 | P0-2 | `workload.yaml`           | `teacher_eval.json`      | âœ…  | 4.5  | â€”    |
| 10/09 | K-1  | `distill.yaml(T=3,Î²=0.5)` | `student_fp32_t3b05.pth` | ğŸ”„ | 10   | æ”¶æ•›æ­£å¸¸ |

---

> ä¸‹ä¸€æ­¥ï¼šä½ è¯´â€œæ–‡ä»¶ç»“æ„â€å’Œâ€œé…ç½®æ¨¡æ¿â€ã€‚æˆ‘å¯ä»¥åœ¨ä½ çš„ä¸‹ä¸€æ¡æ¶ˆæ¯é‡Œç›´æ¥ç»™å‡ºï¼š
>
> * ç›®å½•æ ‘ + å¿…å¤‡è„šæœ¬å
> * `distill.yaml / quant.yaml / prune.yaml / workload.yaml` å››ä¸ªå¯ç”¨æ¨¡æ¿ï¼ˆå«å…³é”®å‚æ•°ä½ç‚¹ï¼‰ã€‚
